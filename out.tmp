riscv64-unknown-elf-gcc -E -x c -I /home/drean/Research/mit-enclaves/security_monitor/platform -I /home/drean/Research/mit-enclaves/security_monitor/api -I /home/drean/Research/mit-enclaves/security_monitor/src /home/drean/Research/mit-enclaves/security_monitor/src/sm.enclave.lds.in | grep -v '^#' > /home/drean/Research/mit-enclaves/security_monitor/src/sm.enclave.lds
riscv64-unknown-elf-gcc -march=rv64g -mabi=lp64 -nostdlib -nostartfiles -fno-common -std=gnu11 -static -fPIC -O0 -Wall -g -I /home/drean/Research/mit-enclaves/security_monitor/platform -I /home/drean/Research/mit-enclaves/security_monitor/api -I /home/drean/Research/mit-enclaves/security_monitor/src  -T /home/drean/Research/mit-enclaves/security_monitor/src/sm.enclave.lds /home/drean/Research/mit-enclaves/security_monitor/src/api/mail_accept.c /home/drean/Research/mit-enclaves/security_monitor/src/api/mail_send.c /home/drean/Research/mit-enclaves/security_monitor/src/api/mail_receive.c /home/drean/Research/mit-enclaves/security_monitor/src/common/lock_region_iff_valid_metadata.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/memcpy.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/memset.c /home/drean/Research/mit-enclaves/security_monitor/src/common/syscall_helpers.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_panic.S  /home/drean/Research/mit-enclaves/security_monitor/platform/platform_helper.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/memcmp.c /home/drean/Research/mit-enclaves/security_monitor/src/handle_enclave/entry_from_enclave.S /home/drean/Research/mit-enclaves/security_monitor/src/handle_enclave/api_call_from_enclave.c /home/drean/Research/mit-enclaves/security_monitor/src/api/get_attestation_key.c /home/drean/Research/mit-enclaves/security_monitor/src/api/get_public_field.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_block.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_check_owned.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_owner.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_exit.c  -o /home/drean/Research/mit-enclaves/security_monitor/build/sm.enclave.elf
riscv64-unknown-elf-objcopy -O binary --only-section=.text --only-section=.rodata /home/drean/Research/mit-enclaves/security_monitor/build/sm.enclave.elf /home/drean/Research/mit-enclaves/security_monitor/build/sm.enclave.bin
riscv64-unknown-elf-gcc -E -x c -I /home/drean/Research/mit-enclaves/security_monitor/platform -I /home/drean/Research/mit-enclaves/security_monitor/api -I /home/drean/Research/mit-enclaves/security_monitor/src /home/drean/Research/mit-enclaves/security_monitor/src/sm.lds.in | grep -v '^#' > /home/drean/Research/mit-enclaves/security_monitor/src/sm.lds
riscv64-unknown-elf-gcc -march=rv64g -mabi=lp64 -nostdlib -nostartfiles -fno-common -std=gnu11 -static -fPIC -O0 -Wall -g -I /home/drean/Research/mit-enclaves/security_monitor/platform -I /home/drean/Research/mit-enclaves/security_monitor/api -I /home/drean/Research/mit-enclaves/security_monitor/src  -T /home/drean/Research/mit-enclaves/security_monitor/src/sm.lds /home/drean/Research/mit-enclaves/security_monitor/src/api/mail_accept.c /home/drean/Research/mit-enclaves/security_monitor/src/api/mail_send.c /home/drean/Research/mit-enclaves/security_monitor/src/api/mail_receive.c /home/drean/Research/mit-enclaves/security_monitor/src/common/lock_region_iff_valid_metadata.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/memcpy.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/memset.c /home/drean/Research/mit-enclaves/security_monitor/src/common/syscall_helpers.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_panic.S  /home/drean/Research/mit-enclaves/security_monitor/platform/stacks.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_init.c /home/drean/Research/mit-enclaves/security_monitor/platform/platform_interrupt_other_cores.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_wait_for_interrupt.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_core_init.c /home/drean/Research/mit-enclaves/security_monitor/platform/platform_clean_core.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_purge_core.S /home/drean/Research/mit-enclaves/security_monitor/platform/platform_jump_to_untrusted.c /home/drean/Research/mit-enclaves/security_monitor/platform/platform_memory_protection.c /home/drean/Research/mit-enclaves/security_monitor/platform/platform_helper.c /home/drean/Research/mit-enclaves/security_monitor/platform/platform_set_enclave_page_table.c /home/drean/Research/mit-enclaves/security_monitor/platform/htif/htif.c /home/drean/Research/mit-enclaves/security_monitor/platform/htif/htif_util.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/strcmp.c /home/drean/Research/mit-enclaves/security_monitor/src/clib/strlen.c /home/drean/Research/mit-enclaves/security_monitor/src/crypto/ed25519/sha512.c /home/drean/Research/mit-enclaves/security_monitor/src/common/lock_region_iff_free_metadata_pages.c /home/drean/Research/mit-enclaves/security_monitor/src/common/sm_state.c /home/drean/Research/mit-enclaves/security_monitor/src/common/enclave_handler.S /home/drean/Research/mit-enclaves/security_monitor/src/common/load_page_table_entry.c /home/drean/Research/mit-enclaves/security_monitor/src/init/init.S /home/drean/Research/mit-enclaves/security_monitor/src/init/init.c /home/drean/Research/mit-enclaves/security_monitor/src/kernel/console.c /home/drean/Research/mit-enclaves/security_monitor/src/kernel/fdt.c /home/drean/Research/mit-enclaves/security_monitor/src/kernel/kernel_init.c /home/drean/Research/mit-enclaves/security_monitor/src/kernel/mcall.c /home/drean/Research/mit-enclaves/security_monitor/src/kernel/handler_illegal_insn.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_create.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_delete.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_enter.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_exit.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_init.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_load_handler.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_load_page_table.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_load_page.c /home/drean/Research/mit-enclaves/security_monitor/src/api/enclave_metadata_pages.c /home/drean/Research/mit-enclaves/security_monitor/src/api/get_public_field.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_assign.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_block.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_check_owned.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_free.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_metadata_create.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_metadata_pages.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_metadata_start.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_owner.c /home/drean/Research/mit-enclaves/security_monitor/src/api/region_state.c /home/drean/Research/mit-enclaves/security_monitor/src/api/thread_delete.c /home/drean/Research/mit-enclaves/security_monitor/src/api/thread_load.c /home/drean/Research/mit-enclaves/security_monitor/src/api/thread_metadata_pages.c /home/drean/Research/mit-enclaves/security_monitor/src/handle_untrusted/entry_from_untrusted.S /home/drean/Research/mit-enclaves/security_monitor/src/handle_untrusted/api_call_from_untrusted.c  -D ENCLAVE_HANDLER_FILE=\"/home/drean/Research/mit-enclaves/security_monitor/build/sm.enclave.bin\" -o /home/drean/Research/mit-enclaves/security_monitor/build/sm.elf
riscv64-unknown-elf-objcopy -O binary \
--only-section=.text \
--only-section=.rodata \
--only-section=.data \
--only-section=.bss  \
--keep-symbol=__htif_base \
--keep-symbol=tohost \
--keep-symbol=fromhost \
/home/drean/Research/mit-enclaves/security_monitor/build/sm.elf /home/drean/Research/mit-enclaves/security_monitor/build/sm.bin
riscv64-unknown-elf-gcc -march=rv64g -mabi=lp64 -nostdlib -nostartfiles -fno-common -std=gnu11 -static -fPIC -O0 -Wall -g -I /home/drean/Research/mit-enclaves/security_monitor/platform -I /home/drean/Research/mit-enclaves/security_monitor/api -I /home/drean/Research/mit-enclaves/security_monitor/test -I /home/drean/Research/mit-enclaves/security_monitor/src  -T /home/drean/Research/mit-enclaves/security_monitor/test/test.lds /home/drean/Research/mit-enclaves/security_monitor/test/unit_tests/null_test.c /home/drean/Research/mit-enclaves/security_monitor/test/test_entry.S /home/drean/Research/mit-enclaves/security_monitor/test/null_boot_loader/sm_keys.c /home/drean/Research/mit-enclaves/security_monitor/test/null_boot_loader/sm.S /home/drean/Research/mit-enclaves/security_monitor/platform/idpt.S /home/drean/Research/mit-enclaves/security_monitor/test/sbi/console.c  -D IDPT_FILE=\"/home/drean/Research/mit-enclaves/security_monitor/build/idpt.bin\" -D SM_BINARY_FILE=\"/home/drean/Research/mit-enclaves/security_monitor/build/sm.bin\" -o /home/drean/Research/mit-enclaves/security_monitor/build/null_test.elf
riscv64-unknown-elf-gcc -march=rv64g -mabi=lp64 -nostdlib -nostartfiles -fno-common -std=gnu11 -static -fPIC -O0 -Wall -g -I /home/drean/Research/mit-enclaves/security_monitor/platform -I /home/drean/Research/mit-enclaves/security_monitor/api -I /home/drean/Research/mit-enclaves/security_monitor/test -I /home/drean/Research/mit-enclaves/security_monitor/src  -T /home/drean/Research/mit-enclaves/security_monitor/test/test.lds /home/drean/Research/mit-enclaves/security_monitor/test/null_boot_loader/boot.S -o /home/drean/Research/mit-enclaves/security_monitor/build/null_boot.elf
riscv64-unknown-elf-objcopy -O binary --only-section=.boot  /home/drean/Research/mit-enclaves/security_monitor/build/null_boot.elf /home/drean/Research/mit-enclaves/security_monitor/build/null_boot.bin
/home/drean/Research/sanctum/build/qemu/riscv64-softmmu/qemu-system-riscv64 -machine sanctum -m 2G -nographic --kernel /home/drean/Research/mit-enclaves/security_monitor/build/null_test.elf --bios /home/drean/Research/mit-enclaves/security_monitor/build/null_boot.bin
QEMU 4.1.1 monitor - type 'help' for more information
(qemu) 
QEMU: Terminated
rm /home/drean/Research/mit-enclaves/security_monitor/src/sm.lds /home/drean/Research/mit-enclaves/security_monitor/src/sm.enclave.lds
